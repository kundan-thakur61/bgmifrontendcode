(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75042,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(18566),l=e.i(22016),n=e.i(83494),r=e.i(95695),i=e.i(80064);function c(){let e=(0,t.useRouter)(),{user:c,isAuthenticated:d,loading:o}=(0,n.useAuth)(),[x,m]=(0,a.useState)(null),[h,p]=(0,a.useState)(!0),[u,j]=(0,a.useState)("overview"),[N,g]=(0,a.useState)([]),[v,b]=(0,a.useState)([]),[f,y]=(0,a.useState)([]),[k,w]=(0,a.useState)([]),[C,T]=(0,a.useState)([]),[A,_]=(0,a.useState)([]),[S,M]=(0,a.useState)([]),[R,D]=(0,a.useState)([]),[P,U]=(0,a.useState)([]),[F,W]=(0,a.useState)(null),[B,E]=(0,a.useState)({revenue:null,users:null,matches:null,referrals:null}),[I,z]=(0,a.useState)(null),[K,O]=(0,a.useState)(null),[Y,$]=(0,a.useState)(null),[q,G]=(0,a.useState)({}),[L,V]=(0,a.useState)(!1),[H,J]=(0,a.useState)(""),[Q,X]=(0,a.useState)("");(0,a.useEffect)(()=>{o||(d?c?.role!=="admin"&&c?.role!=="match_manager"&&e.push("/"):e.push("/login"))},[o,d,c,e]),(0,a.useEffect)(()=>{d&&(c?.role==="admin"||c?.role==="match_manager")&&Z()},[d,c]),(0,a.useEffect)(()=>{d&&ee(u)},[u,d]);let Z=async()=>{try{let e=await r.api.getAdminStats();m(e)}catch(e){console.error("Failed to fetch stats",e)}finally{p(!1)}},ee=async e=>{try{switch(e){case"matches":let s=await (0,r.getMatches)({limit:50});g(s.matches||[]);break;case"tournaments":let a=await r.api.getTournaments({limit:50,status:"upcoming,registration_open,ongoing,completed"});b(a.tournaments||[]);break;case"users":let t=await r.api.getAdminUsers({limit:50});y(t.users||[]);break;case"withdrawals":let l=await r.api.getPendingWithdrawals();w(l.withdrawals||[]);break;case"kyc":let n=await r.api.getPendingKYC();T(n.kycs||[]);break;case"tickets":let i=await r.api.getAllTickets({limit:50});_(i.tickets||[]);break;case"announcements":let c=await r.api.getAnnouncements();M(c.announcements||[]);break;case"disputes":let[d,o]=await Promise.all([r.api.getAllDisputes({limit:50}),r.api.getDisputeStats()]);U(d.disputes||[]),W(o.stats||null);break;case"reports":let[x,m,h,p]=await Promise.all([r.api.getRevenueReport(),r.api.getUsersReport(),r.api.getMatchesReport(),r.api.getReferralsReport()]);E({revenue:x.report,users:m.report,matches:h.report,referrals:p.stats})}}catch(s){console.error(`Failed to load ${e} data:`,s)}},es=async(e,s)=>{J(""),X(""),V(!0);try{switch(e){case"startMatch":await r.api.startMatch(s._id),X("Match started successfully"),ee("matches");break;case"completeMatch":await r.api.completeMatch(s._id),X("Match marked as completed"),O(null),ee("matches");break;case"declareWinners":await r.api.declareWinners(s._id,q.winners||[]),X("Winners declared and wallets updated"),O(null),ee("matches");break;case"cancelMatch":await r.api.cancelMatch(s._id,q.reason),X("Match cancelled"),O(null),ee("matches");break;case"setRoomCredentials":case"roomCredentials":await r.api.setRoomCredentials(Y._id,q.roomId,q.password),X("Room credentials set"),O(null),ee("matches");break;case"approveWithdrawal":await r.api.approveWithdrawal(s._id),X("Withdrawal approved"),ee("withdrawals");break;case"rejectWithdrawal":await r.api.rejectWithdrawal(s._id,q.reason),X("Withdrawal rejected"),O(null),ee("withdrawals");break;case"approveKYC":await r.api.approveKYC(s._id),X("KYC approved"),ee("kyc");break;case"rejectKYC":await r.api.rejectKYC(s._id,q.reason),X("KYC rejected"),O(null),ee("kyc");break;case"banUser":await r.api.banUser(s._id,q.reason),X("User banned"),O(null),ee("users");break;case"unbanUser":await r.api.unbanUser(s._id),X("User unbanned"),ee("users");break;case"resolveTicket":await r.api.resolveTicket(s._id,q.resolution),X("Ticket resolved"),O(null),ee("tickets");break;case"replyTicket":await r.api.addTicketMessage(s._id,q.message),X("Reply sent"),O(null),ee("tickets");break;case"createAnnouncement":await r.api.createAnnouncement(q),X("Announcement created"),O(null),ee("announcements");break;case"deleteAnnouncement":await r.api.deleteAnnouncement(s._id),X("Announcement deleted"),ee("announcements");break;case"createMatch":if(!q.title||q.title.trim().length<3)throw Error("Title must be at least 3 characters");if(!q.scheduledAt)throw Error("Scheduled date is required");let a={title:q.title.trim(),gameType:q.gameType||"pubg_mobile",matchType:q.matchType||"match_win",mode:q.mode||"solo",map:q.map||"erangel",entryFee:parseInt(q.entryFee,10)||0,prizePool:parseInt(q.prizePool,10)||0,maxSlots:parseInt(q.maxSlots,10)||2,scheduledAt:new Date(q.scheduledAt).toISOString()};if(new Date(a.scheduledAt)<=new Date)throw Error("Scheduled date must be in the future");await r.api.createMatch(a),X("Match created successfully"),O(null),G({}),ee("matches");break;case"createTournament":await r.api.createTournament(q),X("Tournament created successfully"),O(null),ee("tournaments");break;case"deleteTournament":await r.api.deleteTournament(s._id),X("Tournament deleted successfully"),ee("tournaments");break;case"completeTournament":await r.api.completeTournament(s._id),X("Tournament completed successfully"),O(null),ee("tournaments");break;case"cancelTournament":await r.api.cancelTournament(s._id,q.reason),X("Tournament cancelled successfully"),O(null),ee("tournaments");break;case"deleteMatch":await r.api.deleteMatch(s._id),X("Match deleted successfully"),ee("matches");break;case"changeRole":await r.api.changeUserRole(Y._id,q.role),X(`User role changed to ${q.role}`),O(null),ee("users");break;case"adjustWallet":await r.api.adjustUserWallet(Y._id,Math.abs(parseInt(q.amount)),q.adjustType,q.reason),X(`Wallet ${"credit"===q.adjustType?"credited":"debited"} successfully`),O(null),ee("users");break;case"resolveDispute":await r.api.resolveDispute(Y._id,{resolution:q.resolution,decision:q.decision,compensation:q.compensation?parseInt(q.compensation):0}),X("Dispute resolved successfully"),O(null),ee("disputes");break;case"addDisputeNote":await r.api.addDisputeNote(Y._id,q.note),X("Note added successfully"),O(null),ee("disputes");break;case"assignDispute":await r.api.assignDispute(Y._id,c._id),X("Dispute assigned to you"),ee("disputes");break;case"sendBroadcast":let t=await r.api.broadcastNotification({title:q.title,message:q.message,type:q.notificationType||"announcement",url:q.url||"/",targetAudience:q.targetAudience||"all",level:q.level});z(t.results),X(`Broadcast sent to ${t.results.notificationsCreated} users`),O(null)}Z()}catch(e){J(e.message||"Action failed")}finally{V(!1)}};if(o||h)return(0,s.jsx)("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})});if(!c||"admin"!==c.role&&"match_manager"!==c.role)return null;let ea=[{id:"overview",label:"Overview",icon:"ðŸ“Š"},{id:"matches",label:"Matches",icon:"ðŸŽ®"},{id:"tournaments",label:"Tournaments",icon:"ðŸ†"},{id:"users",label:"Users",icon:"ðŸ‘¥",adminOnly:!0},{id:"withdrawals",label:"Withdrawals",icon:"ðŸ’¸",adminOnly:!0},{id:"kyc",label:"KYC Requests",icon:"ðŸ“‹",adminOnly:!0},{id:"disputes",label:"Disputes",icon:"âš–ï¸",adminOnly:!0},{id:"tickets",label:"Support Tickets",icon:"ðŸŽ«"},{id:"reports",label:"Reports",icon:"ðŸ“ˆ",adminOnly:!0},{id:"broadcast",label:"Broadcast",icon:"ðŸ“£",adminOnly:!0},{id:"announcements",label:"Announcements",icon:"ðŸ“¢",adminOnly:!0}].filter(e=>!e.adminOnly||"admin"===c.role),et=e=>({upcoming:"bg-blue-500/20 text-blue-400",live:"bg-green-500/20 text-green-400",completed:"bg-gray-500/20 text-gray-400",cancelled:"bg-red-500/20 text-red-400",result_pending:"bg-yellow-500/20 text-yellow-400",pending:"bg-yellow-500/20 text-yellow-400",approved:"bg-green-500/20 text-green-400",rejected:"bg-red-500/20 text-red-400",open:"bg-blue-500/20 text-blue-400",in_progress:"bg-yellow-500/20 text-yellow-400",resolved:"bg-green-500/20 text-green-400",registration_open:"bg-green-500/20 text-green-400",ongoing:"bg-purple-500/20 text-purple-400"})[e]||"bg-gray-500/20 text-gray-400",el=e=>"completed"===e||"cancelled"===e,en=async e=>{$(e),G({winners:[{userId:"",position:1,kills:0}]}),D([]),O("declareWinners");try{let s=await r.api.getMatch(e._id);D(s?.match?.joinedUsers||[])}catch(e){J("Failed to load match participants")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-dark-900 flex",children:[(0,s.jsxs)("aside",{className:"w-64 bg-dark-800 border-r border-dark-700 flex flex-col fixed h-full",children:[(0,s.jsx)("div",{className:"p-4 border-b border-dark-700",children:(0,s.jsxs)(l.default,{href:"/",className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-gaming-purple rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-xl",children:"B"})}),(0,s.jsx)("span",{className:"text-xl font-bold",children:"Admin"})]})}),(0,s.jsx)("nav",{className:"flex-1 p-4 overflow-y-auto",children:(0,s.jsx)("ul",{className:"space-y-2",children:ea.map(e=>(0,s.jsx)("li",{children:(0,s.jsxs)("button",{onClick:()=>j(e.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${u===e.id?"bg-primary-600 text-white":"text-dark-300 hover:bg-dark-700 hover:text-white"}`,children:[(0,s.jsx)("span",{children:e.icon}),(0,s.jsx)("span",{children:e.label})]})},e.id))})}),(0,s.jsx)("div",{className:"p-4 border-t border-dark-700",children:(0,s.jsx)(l.default,{href:"/",className:"btn-secondary w-full text-center block",children:"â† Back to Site"})})]}),(0,s.jsxs)("main",{className:"flex-1 ml-64 overflow-auto",children:[(0,s.jsx)("header",{className:"bg-dark-800 border-b border-dark-700 p-4 sticky top-0 z-10",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold capitalize",children:u.replace("_"," ")}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-dark-400",children:["Welcome, ",c?.name]}),(0,s.jsx)("span",{className:"px-3 py-1 bg-primary-500/20 text-primary-400 rounded-full text-sm capitalize",children:c?.role?.replace("_"," ")})]})]})}),(0,s.jsxs)("div",{className:"p-6",children:[H&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg mb-4",children:H}),Q&&(0,s.jsx)("div",{className:"bg-green-500/10 border border-green-500/20 text-green-400 px-4 py-3 rounded-lg mb-4",children:Q}),"overview"===u&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm mb-1",children:"Total Users"}),(0,s.jsx)("div",{className:"text-3xl font-bold",children:x?.users?.total||0}),(0,s.jsxs)("div",{className:"text-green-400 text-sm",children:["+",x?.users?.today||0," today"]})]}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm mb-1",children:"Active Matches"}),(0,s.jsx)("div",{className:"text-3xl font-bold",children:x?.matches?.active||0}),(0,s.jsxs)("div",{className:"text-dark-400 text-sm",children:[x?.matches?.total||0," total"]})]}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm mb-1",children:"Revenue"}),(0,s.jsxs)("div",{className:"text-3xl font-bold text-gaming-green",children:["â‚¹",x?.revenue?.total||0]}),(0,s.jsxs)("div",{className:"text-green-400 text-sm",children:["+â‚¹",x?.revenue?.today||0," today"]})]}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm mb-1",children:"Pending Withdrawals"}),(0,s.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:x?.withdrawals?.pending||0}),(0,s.jsxs)("div",{className:"text-dark-400 text-sm",children:["â‚¹",x?.withdrawals?.pendingAmount||0]})]}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm mb-1",children:"Open Disputes"}),(0,s.jsx)("div",{className:"text-3xl font-bold text-red-400",children:F?.pending||0}),(0,s.jsxs)("div",{className:"text-dark-400 text-sm",children:[F?.total||0," total"]})]})]}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,s.jsxs)("button",{onClick:()=>{j("matches"),O("createMatch"),G({})},className:"btn-secondary py-4 flex flex-col items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"âž•"}),(0,s.jsx)("span",{children:"Create Match"})]}),(0,s.jsxs)("button",{onClick:()=>j("tournaments"),className:"btn-secondary py-4 flex flex-col items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ†"}),(0,s.jsx)("span",{children:"Tournaments"})]}),(0,s.jsxs)("button",{onClick:()=>j("withdrawals"),className:"btn-secondary py-4 flex flex-col items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ’¸"}),(0,s.jsxs)("span",{children:["Withdrawals (",x?.withdrawals?.pending||0,")"]})]}),(0,s.jsxs)("button",{onClick:()=>j("kyc"),className:"btn-secondary py-4 flex flex-col items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ“‹"}),(0,s.jsx)("span",{children:"KYC Review"})]}),(0,s.jsxs)("button",{onClick:()=>j("disputes"),className:"btn-secondary py-4 flex flex-col items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"âš–ï¸"}),(0,s.jsxs)("span",{children:["Disputes (",F?.pending||0,")"]})]}),(0,s.jsxs)("button",{onClick:()=>j("reports"),className:"btn-secondary py-4 flex flex-col items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl",children:"ðŸ“ˆ"}),(0,s.jsx)("span",{children:"Reports"})]})]})]})]}),"matches"===u&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold",children:["Manage Matches (",N.length,")"]}),(0,s.jsx)("button",{onClick:()=>{O("createMatch"),G({gameType:"pubg_mobile",matchType:"match_win",mode:"solo",map:"erangel",entryFee:50,prizePool:400,maxSlots:100})},className:"btn-primary",children:"+ Create Match"})]}),(0,s.jsxs)("div",{className:"card overflow-hidden",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-dark-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-4",children:"Title"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Type"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Entry/Prize"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Slots"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Status"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:N.map(e=>(0,s.jsxs)("tr",{className:"border-t border-dark-700 hover:bg-dark-700/50",children:[(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.title}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:(0,i.formatDateTime)(e.scheduledAt)})]}),el(e.status)&&(0,s.jsx)("span",{className:"ml-2 px-2 py-1 bg-red-500/20 text-red-400 rounded text-xs font-medium",children:"CLOSED"})]})}),(0,s.jsxs)("td",{className:"p-4 capitalize",children:[e.gameType?.replace("_"," ")," - ",e.matchType]}),(0,s.jsxs)("td",{className:"p-4",children:["â‚¹",e.entryFee," / â‚¹",e.prizePool]}),(0,s.jsxs)("td",{className:"p-4",children:[e.participants?.length||0,"/",e.maxSlots]}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("span",{className:`px-2 py-1 rounded text-xs ${et(e.status)}`,children:e.status})}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:["upcoming"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex items-center gap-1 text-xs mb-1",children:e.roomCredentialsVisible?(0,s.jsx)("span",{className:"text-gaming-green",children:"âœ“ Room set"}):(0,s.jsx)("span",{className:"text-yellow-400",children:"âš  Room not set"})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{$(e),O("roomCredentials"),G({})},className:"text-blue-400 hover:text-blue-300 text-sm",children:e.roomCredentialsVisible?"Edit Room":"1. Set Room"}),(0,s.jsx)("button",{onClick:()=>es("startMatch",e),disabled:!e.roomCredentialsVisible,className:`text-sm ${e.roomCredentialsVisible?"text-green-400 hover:text-green-300":"text-dark-500 cursor-not-allowed"}`,title:e.roomCredentialsVisible?"Start the match":"Set room credentials first",children:"2. Start"}),(0,s.jsx)("button",{onClick:()=>{$(e),O("cancelMatch"),G({})},className:"text-red-400 hover:text-red-300 text-sm",children:"Cancel"})]})]}),"live"===e.status&&(0,s.jsx)("button",{onClick:()=>{$(e),O("completeMatch")},className:"text-green-400 hover:text-green-300 text-sm",children:"Complete"}),"result_pending"===e.status&&(0,s.jsx)("button",{onClick:()=>en(e),className:"text-primary-400 hover:text-primary-300 text-sm",children:"Declare Winners"}),(0,s.jsx)("button",{onClick:()=>{$(e),O("deleteMatch")},className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})})]},e._id))})]}),0===N.length&&(0,s.jsx)("div",{className:"p-8 text-center text-dark-400",children:"No matches found"})]})]}),"tournaments"===u&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold",children:["Manage Tournaments (",v.length,")"]}),(0,s.jsx)("button",{onClick:()=>{O("createTournament"),G({gameType:"pubg_mobile",format:"battle_royale",mode:"squad",entryFee:100,prizePool:1e4,maxTeams:100})},className:"btn-primary",children:"+ Create Tournament"})]}),(0,s.jsxs)("div",{className:"card overflow-hidden",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-dark-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-4",children:"Title"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Format"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Prize Pool"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Teams"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Status"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:v.map(e=>(0,s.jsxs)("tr",{className:"border-t border-dark-700 hover:bg-dark-700/50",children:[(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.title}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:(0,i.formatDateTime)(e.startAt)})]}),el(e.status)&&(0,s.jsx)("span",{className:"ml-2 px-2 py-1 bg-red-500/20 text-red-400 rounded text-xs font-medium",children:"CLOSED"})]})}),(0,s.jsx)("td",{className:"p-4 capitalize",children:e.format?.replace("_"," ")}),(0,s.jsx)("td",{className:"p-4",children:(0,i.formatCurrency)(e.prizePool)}),(0,s.jsxs)("td",{className:"p-4",children:[e.registeredTeams||0,"/",e.maxTeams]}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("span",{className:`px-2 py-1 rounded text-xs ${et(e.status)}`,children:e.status?.replace("_"," ")})}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(l.default,{href:`/tournaments/${e._id}`,className:"text-primary-400 hover:text-primary-300 text-sm",children:"View"}),"ongoing"===e.status&&(0,s.jsx)("button",{onClick:()=>{$(e),O("completeTournament")},className:"text-green-400 hover:text-green-300 text-sm",children:"Complete"}),!el(e.status)&&(0,s.jsx)("button",{onClick:()=>{$(e),O("cancelTournament"),G({})},className:"text-red-400 hover:text-red-300 text-sm",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{$(e),O("deleteTournament")},className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})})]},e._id))})]}),0===v.length&&(0,s.jsx)("div",{className:"p-8 text-center text-dark-400",children:"No tournaments found"})]})]}),"users"===u&&c?.role==="admin"&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold",children:["User Management (",f.length,")"]}),(0,s.jsxs)("div",{className:"card overflow-hidden",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-dark-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-4",children:"User"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Phone"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Role"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Balance"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Status"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Joined"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:f.map(e=>(0,s.jsxs)("tr",{className:"border-t border-dark-700 hover:bg-dark-700/50",children:[(0,s.jsxs)("td",{className:"p-4",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:e.email})]}),(0,s.jsx)("td",{className:"p-4",children:e.phone}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("span",{className:`px-2 py-1 rounded text-xs capitalize ${"admin"===e.role?"bg-purple-500/20 text-purple-400":"match_manager"===e.role?"bg-blue-500/20 text-blue-400":"host"===e.role?"bg-cyan-500/20 text-cyan-400":"bg-gray-500/20 text-gray-400"}`,children:e.role?.replace("_"," ")})}),(0,s.jsx)("td",{className:"p-4 text-gaming-green font-medium",children:(0,i.formatCurrency)(e.walletBalance||0)}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("span",{className:`px-2 py-1 rounded text-xs ${e.isBanned?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:e.isBanned?"Banned":"Active"})}),(0,s.jsx)("td",{className:"p-4 text-dark-400 text-sm",children:(0,i.formatDateTime)(e.createdAt)}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{$(e),O("adjustWallet"),G({adjustType:"credit"})},className:"text-primary-400 hover:text-primary-300 text-sm",children:"Wallet"}),(0,s.jsx)("button",{onClick:()=>{$(e),O("changeRole"),G({role:e.role})},className:"text-blue-400 hover:text-blue-300 text-sm",children:"Role"})]}),(0,s.jsx)("div",{className:"flex gap-2",children:e.isBanned?(0,s.jsx)("button",{onClick:()=>es("unbanUser",e),className:"text-green-400 hover:text-green-300 text-sm",children:"Unban"}):(0,s.jsx)("button",{onClick:()=>{$(e),O("banUser"),G({})},className:"text-red-400 hover:text-red-300 text-sm",children:"Ban"})})]})})]},e._id))})]}),0===f.length&&(0,s.jsx)("div",{className:"p-8 text-center text-dark-400",children:"No users found"})]})]}),"withdrawals"===u&&c?.role==="admin"&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold",children:["Pending Withdrawals (",k.length,")"]}),(0,s.jsxs)("div",{className:"card overflow-hidden",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-dark-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-4",children:"User"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Amount"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Method"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Details"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Requested"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:k.map(e=>(0,s.jsxs)("tr",{className:"border-t border-dark-700 hover:bg-dark-700/50",children:[(0,s.jsxs)("td",{className:"p-4",children:[(0,s.jsx)("div",{className:"font-medium",children:e.user?.name}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:e.user?.phone})]}),(0,s.jsx)("td",{className:"p-4 font-bold text-gaming-green",children:(0,i.formatCurrency)(e.amount)}),(0,s.jsx)("td",{className:"p-4 capitalize",children:e.method}),(0,s.jsx)("td",{className:"p-4 text-sm text-dark-400",children:e.accountDetails?.upiId||e.accountDetails?.accountNumber}),(0,s.jsx)("td",{className:"p-4 text-dark-400 text-sm",children:(0,i.formatDateTime)(e.createdAt)}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>es("approveWithdrawal",e),className:"text-green-400 hover:text-green-300 text-sm",children:"Approve"}),(0,s.jsx)("button",{onClick:()=>{$(e),O("rejectWithdrawal"),G({})},className:"text-red-400 hover:text-red-300 text-sm",children:"Reject"})]})})]},e._id))})]}),0===k.length&&(0,s.jsx)("div",{className:"p-8 text-center text-dark-400",children:"No pending withdrawals"})]})]}),"kyc"===u&&c?.role==="admin"&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold",children:["Pending KYC Requests (",C.length,")"]}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(e=>(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:e.user?.phone})]}),(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-yellow-500/20 text-yellow-400",children:"Pending"})]}),(0,s.jsxs)("div",{className:"text-sm space-y-1 text-dark-300 mb-4",children:[(0,s.jsxs)("div",{children:["Document: ",e.documentType]}),(0,s.jsxs)("div",{children:["Number: ",e.documentNumber]}),(0,s.jsxs)("div",{children:["DOB: ",e.dateOfBirth]})]}),e.documents?.documentFront&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("img",{src:e.documents.documentFront.url,alt:"Document",className:"w-full h-32 object-cover rounded"})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>es("approveKYC",e),className:"btn-primary flex-1 text-sm py-2",children:"Approve"}),(0,s.jsx)("button",{onClick:()=>{$(e),O("rejectKYC"),G({})},className:"btn-secondary flex-1 text-sm py-2",children:"Reject"})]})]},e._id))}),0===C.length&&(0,s.jsx)("div",{className:"card p-8 text-center text-dark-400",children:"No pending KYC requests"})]}),"tickets"===u&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold",children:["Support Tickets (",A.length,")"]}),(0,s.jsxs)("div",{className:"card overflow-hidden",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-dark-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-4",children:"Subject"}),(0,s.jsx)("th",{className:"text-left p-4",children:"User"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Category"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Status"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Created"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:A.map(e=>(0,s.jsxs)("tr",{className:"border-t border-dark-700 hover:bg-dark-700/50",children:[(0,s.jsxs)("td",{className:"p-4",children:[(0,s.jsx)("div",{className:"font-medium",children:e.subject}),(0,s.jsx)("div",{className:"text-dark-400 text-sm line-clamp-1",children:e.message})]}),(0,s.jsx)("td",{className:"p-4",children:e.user?.name}),(0,s.jsx)("td",{className:"p-4 capitalize",children:e.category}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("span",{className:`px-2 py-1 rounded text-xs ${et(e.status)}`,children:e.status?.replace("_"," ")})}),(0,s.jsx)("td",{className:"p-4 text-dark-400 text-sm",children:(0,i.formatDateTime)(e.createdAt)}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>{$(e),O("replyTicket"),G({})},className:"text-primary-400 hover:text-primary-300 text-sm",children:"Reply"}),"resolved"!==e.status&&(0,s.jsx)("button",{onClick:()=>{$(e),O("resolveTicket"),G({})},className:"text-green-400 hover:text-green-300 text-sm",children:"Resolve"})]})})]},e._id))})]}),0===A.length&&(0,s.jsx)("div",{className:"p-8 text-center text-dark-400",children:"No tickets found"})]})]}),"announcements"===u&&c?.role==="admin"&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold",children:["Announcements (",S.length,")"]}),(0,s.jsx)("button",{onClick:()=>{O("createAnnouncement"),G({type:"info",isActive:!0})},className:"btn-primary",children:"+ New Announcement"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[S.map(e=>(0,s.jsx)("div",{className:"card p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold",children:e.title}),(0,s.jsx)("p",{className:"text-dark-400 mt-1",children:e.message}),(0,s.jsxs)("div",{className:"text-dark-500 text-sm mt-2",children:["Created: ",(0,i.formatDateTime)(e.createdAt)]})]}),(0,s.jsx)("button",{onClick:()=>es("deleteAnnouncement",e),className:"text-red-400 hover:text-red-300",children:"Delete"})]})},e._id)),0===S.length&&(0,s.jsx)("div",{className:"card p-8 text-center text-dark-400",children:"No announcements"})]})]}),"disputes"===u&&c?.role==="admin"&&(0,s.jsxs)("div",{className:"space-y-6",children:[F&&(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{className:"card p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:F.total||0}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Total"})]}),(0,s.jsxs)("div",{className:"card p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:F.open||0}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Open"})]}),(0,s.jsxs)("div",{className:"card p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:F.in_progress||0}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"In Progress"})]}),(0,s.jsxs)("div",{className:"card p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-400",children:F.resolved||0}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Resolved"})]}),(0,s.jsxs)("div",{className:"card p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-400",children:F.rejected||0}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Rejected"})]})]}),(0,s.jsxs)("h2",{className:"text-lg font-bold",children:["Dispute Management (",P.length,")"]}),(0,s.jsxs)("div",{className:"card overflow-hidden",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-dark-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-left p-4",children:"Match"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Submitted By"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Reason"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Status"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Assigned To"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Created"}),(0,s.jsx)("th",{className:"text-left p-4",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:P.map(e=>(0,s.jsxs)("tr",{className:"border-t border-dark-700 hover:bg-dark-700/50",children:[(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("div",{className:"font-medium",children:e.match?.title||"N/A"})}),(0,s.jsxs)("td",{className:"p-4",children:[(0,s.jsx)("div",{className:"font-medium",children:e.submittedBy?.name||"Unknown"}),(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:e.submittedBy?.phone})]}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("div",{className:"text-sm text-dark-300 max-w-xs truncate",children:e.reason})}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("span",{className:`px-2 py-1 rounded text-xs ${et(e.status)}`,children:e.status?.replace("_"," ")})}),(0,s.jsx)("td",{className:"p-4 text-dark-400 text-sm",children:e.assignedTo?.name||"Unassigned"}),(0,s.jsx)("td",{className:"p-4 text-dark-400 text-sm",children:(0,i.formatDateTime)(e.createdAt)}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[!e.assignedTo&&"open"===e.status&&(0,s.jsx)("button",{onClick:()=>es("assignDispute",e),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Assign to Me"}),"resolved"!==e.status&&"rejected"!==e.status&&(0,s.jsx)("button",{onClick:()=>{$(e),O("resolveDispute"),G({decision:"accepted"})},className:"text-green-400 hover:text-green-300 text-sm",children:"Resolve"}),(0,s.jsx)("button",{onClick:()=>{$(e),O("addDisputeNote"),G({})},className:"text-primary-400 hover:text-primary-300 text-sm",children:"Add Note"})]})})]},e._id))})]}),0===P.length&&(0,s.jsx)("div",{className:"p-8 text-center text-dark-400",children:"No disputes found"})]})]}),"reports"===u&&c?.role==="admin"&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:"Analytics & Reports"}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4",children:"ðŸ’° Revenue Overview"}),B.revenue?(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Match Entry Revenue"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gaming-green",children:(0,i.formatCurrency)(B.revenue.revenue?.find(e=>"match_entry"===e._id)?.total||0)}),(0,s.jsxs)("div",{className:"text-dark-400 text-sm",children:[B.revenue.revenue?.find(e=>"match_entry"===e._id)?.count||0," transactions"]})]}),(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Total Deposits"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:(0,i.formatCurrency)(B.revenue.deposits?.total||0)}),(0,s.jsxs)("div",{className:"text-dark-400 text-sm",children:[B.revenue.deposits?.count||0," deposits"]})]}),(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Total Withdrawals"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-red-400",children:(0,i.formatCurrency)(B.revenue.withdrawals?.total||0)}),(0,s.jsxs)("div",{className:"text-dark-400 text-sm",children:[B.revenue.withdrawals?.count||0," withdrawals"]})]})]}):(0,s.jsx)("div",{className:"text-dark-400",children:"Loading revenue data..."})]}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4",children:"ðŸ‘¥ User Statistics"}),B.users?(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Total Users"}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:B.users.total||0})]}),(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"KYC Verified"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-green-400",children:B.users.verified||0})]}),(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Banned Users"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-red-400",children:B.users.banned||0})]}),(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Verification Rate"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-blue-400",children:[B.users.total>0?Math.round(B.users.verified/B.users.total*100):0,"%"]})]})]}):(0,s.jsx)("div",{className:"text-dark-400",children:"Loading user data..."})]}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4",children:"ðŸŽ® Match Statistics"}),B.matches?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"text-dark-400 text-sm mb-1",children:["Total Matches: ",(0,s.jsx)("span",{className:"text-white font-bold",children:B.matches.total||0})]})}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:B.matches.byStatus?.map(e=>(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg p-3",children:[(0,s.jsx)("div",{className:`px-2 py-1 rounded text-xs inline-block mb-2 ${et(e._id)}`,children:e._id?.replace("_"," ")}),(0,s.jsx)("div",{className:"text-xl font-bold",children:e.count})]},e._id))}),B.matches.byGame&&B.matches.byGame.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("div",{className:"text-sm text-dark-400 mb-2",children:"By Game Type:"}),(0,s.jsx)("div",{className:"flex gap-4 flex-wrap",children:B.matches.byGame.map(e=>(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg px-4 py-2",children:[(0,s.jsx)("span",{className:"capitalize",children:e._id?.replace("_"," ")}),": ",e.count," matches",(0,s.jsxs)("span",{className:"text-gaming-green ml-2",children:["(",(0,i.formatCurrency)(e.totalPrize)," prize)"]})]},e._id))})]})]}):(0,s.jsx)("div",{className:"text-dark-400",children:"Loading match data..."})]}),(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-4",children:"ðŸ¤ Referral Statistics"}),B.referrals?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Total Referrals"}),(0,s.jsx)("div",{className:"text-2xl font-bold",children:B.referrals.totalReferrals||0})]}),(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-dark-400 text-sm",children:"Total Earnings Paid"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gaming-green",children:(0,i.formatCurrency)(B.referrals.totalEarnings||0)})]})]}),B.referrals.topReferrers?.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-dark-400 mb-2",children:"Top Referrers:"}),(0,s.jsx)("div",{className:"space-y-2",children:B.referrals.topReferrers.slice(0,5).map((e,a)=>(0,s.jsxs)("div",{className:"bg-dark-700 rounded-lg px-4 py-2 flex justify-between items-center",children:[(0,s.jsxs)("span",{children:["#",a+1," ",e.name]}),(0,s.jsxs)("span",{className:"text-primary-400",children:[e.referralCount," referrals"]})]},e._id))})]})]}):(0,s.jsx)("div",{className:"text-dark-400",children:"Loading referral data..."})]})]}),"broadcast"===u&&c?.role==="admin"&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:"ðŸ“£ Push Notification Broadcast"}),(0,s.jsx)("div",{className:"card p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Notification Title"}),(0,s.jsx)("input",{type:"text",className:"input",value:q.title||"",onChange:e=>G({...q,title:e.target.value}),placeholder:"e.g., New Tournament Starting Soon!"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Message"}),(0,s.jsx)("textarea",{className:"input min-h-[100px]",value:q.message||"",onChange:e=>G({...q,message:e.target.value}),placeholder:"Enter your notification message..."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Target Audience"}),(0,s.jsxs)("select",{className:"input",value:q.targetAudience||"all",onChange:e=>G({...q,targetAudience:e.target.value}),children:[(0,s.jsx)("option",{value:"all",children:"All Users"}),(0,s.jsx)("option",{value:"verified",children:"KYC Verified Only"}),(0,s.jsx)("option",{value:"level",children:"Specific Level"})]})]}),"level"===q.targetAudience&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"User Level"}),(0,s.jsx)("input",{type:"number",className:"input",value:q.level||"",onChange:e=>G({...q,level:e.target.value}),placeholder:"e.g., 5",min:"1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Notification Type"}),(0,s.jsxs)("select",{className:"input",value:q.notificationType||"announcement",onChange:e=>G({...q,notificationType:e.target.value}),children:[(0,s.jsx)("option",{value:"announcement",children:"Announcement"}),(0,s.jsx)("option",{value:"promotion",children:"Promotion"}),(0,s.jsx)("option",{value:"update",children:"Update"}),(0,s.jsx)("option",{value:"reminder",children:"Reminder"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Action URL (optional)"}),(0,s.jsx)("input",{type:"text",className:"input",value:q.url||"",onChange:e=>G({...q,url:e.target.value}),placeholder:"e.g., /tournaments"})]}),(0,s.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-yellow-400",children:"âš ï¸"}),(0,s.jsx)("div",{className:"text-yellow-400 text-sm",children:"This will send a notification to all matching users. Make sure your message is correct before sending."})]})}),(0,s.jsx)("button",{onClick:()=>es("sendBroadcast",null),disabled:!q.title||!q.message||L,className:"btn-primary w-full",children:L?"Sending...":"ðŸ“¤ Send Broadcast"}),I&&(0,s.jsxs)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"text-green-400 font-medium mb-2",children:"âœ… Broadcast Sent Successfully!"}),(0,s.jsxs)("div",{className:"text-sm text-dark-300 space-y-1",children:[(0,s.jsxs)("div",{children:["In-app notifications created: ",(0,s.jsx)("span",{className:"text-white",children:I.notificationsCreated})]}),(0,s.jsxs)("div",{children:["Push notifications sent: ",(0,s.jsx)("span",{className:"text-white",children:I.pushSent})]}),I.pushFailed>0&&(0,s.jsxs)("div",{children:["Push failed: ",(0,s.jsx)("span",{className:"text-red-400",children:I.pushFailed})]})]})]})]})})]})]})]}),K&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"card p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:["createMatch"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create Match"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Title"}),(0,s.jsx)("input",{type:"text",className:"input",value:q.title||"",onChange:e=>G({...q,title:e.target.value}),placeholder:"PUBG Mobile Solo Classic"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Game Type"}),(0,s.jsxs)("select",{className:"input",value:q.gameType||"pubg_mobile",onChange:e=>G({...q,gameType:e.target.value}),children:[(0,s.jsx)("option",{value:"pubg_mobile",children:"PUBG Mobile"}),(0,s.jsx)("option",{value:"free_fire",children:"Free Fire"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Match Type"}),(0,s.jsxs)("select",{className:"input",value:q.matchType||"match_win",onChange:e=>G({...q,matchType:e.target.value}),children:[(0,s.jsx)("option",{value:"match_win",children:"Match Win"}),(0,s.jsx)("option",{value:"tournament",children:"Tournament"}),(0,s.jsx)("option",{value:"tdm",children:"TDM"}),(0,s.jsx)("option",{value:"wow",children:"WoW"}),(0,s.jsx)("option",{value:"special",children:"Special"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Mode"}),(0,s.jsxs)("select",{className:"input",value:q.mode||"solo",onChange:e=>G({...q,mode:e.target.value}),children:[(0,s.jsx)("option",{value:"solo",children:"Solo"}),(0,s.jsx)("option",{value:"duo",children:"Duo"}),(0,s.jsx)("option",{value:"squad",children:"Squad"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Entry Fee (â‚¹)"}),(0,s.jsx)("input",{type:"number",className:"input",value:q.entryFee||"",onChange:e=>G({...q,entryFee:parseInt(e.target.value)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Prize Pool (â‚¹)"}),(0,s.jsx)("input",{type:"number",className:"input",value:q.prizePool||"",onChange:e=>G({...q,prizePool:parseInt(e.target.value)})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Max Slots"}),(0,s.jsx)("input",{type:"number",className:"input",value:q.maxSlots||"",onChange:e=>G({...q,maxSlots:parseInt(e.target.value)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Map"}),(0,s.jsxs)("select",{className:"input",value:q.map||"erangel",onChange:e=>G({...q,map:e.target.value}),children:[(0,s.jsx)("option",{value:"erangel",children:"Erangel"}),(0,s.jsx)("option",{value:"miramar",children:"Miramar"}),(0,s.jsx)("option",{value:"sanhok",children:"Sanhok"}),(0,s.jsx)("option",{value:"vikendi",children:"Vikendi"}),(0,s.jsx)("option",{value:"livik",children:"Livik"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Scheduled At"}),(0,s.jsx)("input",{type:"datetime-local",className:"input",value:q.scheduledAt||"",onChange:e=>G({...q,scheduledAt:e.target.value})})]})]})]}),"createTournament"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create Tournament"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Title"}),(0,s.jsx)("input",{type:"text",className:"input",value:q.title||"",onChange:e=>G({...q,title:e.target.value}),placeholder:"PUBG Mobile Squad Championship"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Description"}),(0,s.jsx)("textarea",{className:"input min-h-[80px]",value:q.description||"",onChange:e=>G({...q,description:e.target.value}),placeholder:"Tournament description..."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Game Type"}),(0,s.jsxs)("select",{className:"input",value:q.gameType||"pubg_mobile",onChange:e=>G({...q,gameType:e.target.value}),children:[(0,s.jsx)("option",{value:"pubg_mobile",children:"PUBG Mobile"}),(0,s.jsx)("option",{value:"free_fire",children:"Free Fire"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Format"}),(0,s.jsxs)("select",{className:"input",value:q.format||"battle_royale",onChange:e=>G({...q,format:e.target.value}),children:[(0,s.jsx)("option",{value:"battle_royale",children:"Battle Royale"}),(0,s.jsx)("option",{value:"single_elimination",children:"Single Elimination"}),(0,s.jsx)("option",{value:"double_elimination",children:"Double Elimination"}),(0,s.jsx)("option",{value:"round_robin",children:"Round Robin"}),(0,s.jsx)("option",{value:"swiss",children:"Swiss"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Mode"}),(0,s.jsxs)("select",{className:"input",value:q.mode||"squad",onChange:e=>G({...q,mode:e.target.value}),children:[(0,s.jsx)("option",{value:"solo",children:"Solo"}),(0,s.jsx)("option",{value:"duo",children:"Duo"}),(0,s.jsx)("option",{value:"squad",children:"Squad"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Entry Fee (â‚¹)"}),(0,s.jsx)("input",{type:"number",className:"input",value:q.entryFee||"",onChange:e=>G({...q,entryFee:parseInt(e.target.value)||0})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Prize Pool (â‚¹)"}),(0,s.jsx)("input",{type:"number",className:"input",value:q.prizePool||"",onChange:e=>G({...q,prizePool:parseInt(e.target.value)||0})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Max Teams"}),(0,s.jsx)("input",{type:"number",className:"input",value:q.maxTeams||"",onChange:e=>G({...q,maxTeams:parseInt(e.target.value)||0})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Registration Start"}),(0,s.jsx)("input",{type:"datetime-local",className:"input",value:q.registrationStartAt||"",onChange:e=>G({...q,registrationStartAt:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Registration End"}),(0,s.jsx)("input",{type:"datetime-local",className:"input",value:q.registrationEndAt||"",onChange:e=>G({...q,registrationEndAt:e.target.value})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Tournament Start"}),(0,s.jsx)("input",{type:"datetime-local",className:"input",value:q.startAt||"",onChange:e=>G({...q,startAt:e.target.value})})]})]})]}),"roomCredentials"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Set Room Credentials"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Room ID"}),(0,s.jsx)("input",{type:"text",className:"input",value:q.roomId||"",onChange:e=>G({...q,roomId:e.target.value}),placeholder:"Enter room ID"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Password"}),(0,s.jsx)("input",{type:"text",className:"input",value:q.password||"",onChange:e=>G({...q,password:e.target.value}),placeholder:"Enter password"})]})]})]}),"completeMatch"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Complete Match"}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-lg",children:(0,s.jsxs)("p",{className:"text-yellow-400 text-sm",children:['Mark match "',Y?.title,'" as completed? This will move it to result verification.']})})})]}),"declareWinners"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Declare Winners"}),(0,s.jsxs)("div",{className:"space-y-4",children:[q.winners?.map((e,a)=>(0,s.jsxs)("div",{className:"border border-dark-700 rounded-lg p-3 space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Winner"}),(0,s.jsxs)("select",{className:"input",value:e.userId||"",onChange:e=>{let s=[...q.winners];s[a]={...s[a],userId:e.target.value},G({...q,winners:s})},children:[(0,s.jsx)("option",{value:"",children:"Select player"}),R.map(e=>(0,s.jsxs)("option",{value:e.user?._id||e.user,children:[e.user?.name||"Player"," ",e.inGameName?`â€¢ ${e.inGameName}`:""]},e.user?._id||e.user))]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Position"}),(0,s.jsx)("input",{type:"number",className:"input",value:e.position||"",onChange:e=>{let s=[...q.winners];s[a]={...s[a],position:parseInt(e.target.value,10)||0},G({...q,winners:s})},min:"1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Kills"}),(0,s.jsx)("input",{type:"number",className:"input",value:e.kills||0,onChange:e=>{let s=[...q.winners];s[a]={...s[a],kills:parseInt(e.target.value,10)||0},G({...q,winners:s})},min:"0"})]})]}),q.winners.length>1&&(0,s.jsx)("button",{type:"button",onClick:()=>{let e=q.winners.filter((e,s)=>s!==a);G({...q,winners:e})},className:"text-red-400 text-sm",children:"Remove"})]},a)),(0,s.jsx)("button",{type:"button",onClick:()=>G({...q,winners:[...q.winners||[],{userId:"",position:(q.winners?.length||0)+1,kills:0}]}),className:"btn-secondary w-full",children:"+ Add Winner"})]})]}),("cancelMatch"===K||"rejectWithdrawal"===K||"rejectKYC"===K||"banUser"===K)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["cancelMatch"===K&&"Cancel Match","rejectWithdrawal"===K&&"Reject Withdrawal","rejectKYC"===K&&"Reject KYC","banUser"===K&&"Ban User"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Reason"}),(0,s.jsx)("textarea",{className:"input min-h-[100px]",value:q.reason||"",onChange:e=>G({...q,reason:e.target.value}),placeholder:"Enter reason..."})]})]}),("replyTicket"===K||"resolveTicket"===K)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"replyTicket"===K?"Reply to Ticket":"Resolve Ticket"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"replyTicket"===K?"Message":"Resolution"}),(0,s.jsx)("textarea",{className:"input min-h-[100px]",value:"replyTicket"===K?q.message||"":q.resolution||"",onChange:e=>G({...q,["replyTicket"===K?"message":"resolution"]:e.target.value}),placeholder:"Enter your response..."})]})]}),"createAnnouncement"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create Announcement"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Title"}),(0,s.jsx)("input",{type:"text",className:"input",value:q.title||"",onChange:e=>G({...q,title:e.target.value}),placeholder:"Announcement title"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Message"}),(0,s.jsx)("textarea",{className:"input min-h-[100px]",value:q.message||"",onChange:e=>G({...q,message:e.target.value}),placeholder:"Announcement message..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Type"}),(0,s.jsxs)("select",{className:"input",value:q.type||"info",onChange:e=>G({...q,type:e.target.value}),children:[(0,s.jsx)("option",{value:"info",children:"Info"}),(0,s.jsx)("option",{value:"warning",children:"Warning"}),(0,s.jsx)("option",{value:"success",children:"Success"}),(0,s.jsx)("option",{value:"error",children:"Error"}),(0,s.jsx)("option",{value:"promotion",children:"Promotion"})]})]})]})]}),"deleteTournament"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Delete Tournament"}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-red-400 text-sm",children:['Are you sure you want to delete the tournament "',Y?.title,'"?']}),(0,s.jsx)("p",{className:"text-red-400 text-sm mt-2",children:"This action cannot be undone and will permanently remove all tournament data."})]})})]}),"completeTournament"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Complete Tournament"}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"bg-green-500/10 border border-green-500/20 p-4 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-green-400 text-sm",children:['Mark tournament "',Y?.title,'" as completed?']}),(0,s.jsx)("p",{className:"text-green-400 text-sm mt-2",children:"This will finalize standings and distribute prizes if defined."})]})})]}),"cancelTournament"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Cancel Tournament"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Reason"}),(0,s.jsx)("textarea",{className:"input min-h-[100px]",value:q.reason||"",onChange:e=>G({...q,reason:e.target.value}),placeholder:"Enter reason for cancellation..."})]}),(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-lg",children:(0,s.jsx)("p",{className:"text-red-400 text-sm",children:"âš ï¸ This will cancel the tournament and refund all entry fees to participants."})})]})]}),"deleteMatch"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Delete Match"}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-red-400 text-sm",children:['Are you sure you want to delete the match "',Y?.title,'"?']}),(0,s.jsx)("p",{className:"text-red-400 text-sm mt-2",children:"This action cannot be undone and will permanently remove all match data."})]})})]}),"changeRole"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Change User Role"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-dark-700 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-dark-400",children:"User"}),(0,s.jsx)("div",{className:"font-medium",children:Y?.name}),(0,s.jsx)("div",{className:"text-sm text-dark-400",children:Y?.phone})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"New Role"}),(0,s.jsxs)("select",{className:"input",value:q.role||"user",onChange:e=>G({...q,role:e.target.value}),children:[(0,s.jsx)("option",{value:"user",children:"User"}),(0,s.jsx)("option",{value:"host",children:"Host"}),(0,s.jsx)("option",{value:"match_manager",children:"Match Manager"}),(0,s.jsx)("option",{value:"support",children:"Support"}),(0,s.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,s.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-3 rounded-lg",children:(0,s.jsx)("p",{className:"text-yellow-400 text-sm",children:"âš ï¸ Changing roles grants different permissions. Admin has full access."})})]})]}),"adjustWallet"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Adjust User Wallet"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-dark-700 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-dark-400",children:"User"}),(0,s.jsx)("div",{className:"font-medium",children:Y?.name}),(0,s.jsxs)("div",{className:"text-gaming-green",children:["Current Balance: ",(0,i.formatCurrency)(Y?.walletBalance||0)]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Type"}),(0,s.jsxs)("select",{className:"input",value:q.adjustType||"credit",onChange:e=>G({...q,adjustType:e.target.value}),children:[(0,s.jsx)("option",{value:"credit",children:"Credit (+)"}),(0,s.jsx)("option",{value:"debit",children:"Debit (-)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Amount (â‚¹)"}),(0,s.jsx)("input",{type:"number",className:"input",value:q.amount||"",onChange:e=>G({...q,amount:e.target.value}),placeholder:"Enter amount",min:"1"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Reason"}),(0,s.jsx)("textarea",{className:"input min-h-[80px]",value:q.reason||"",onChange:e=>G({...q,reason:e.target.value}),placeholder:"Enter reason for adjustment (required)"})]})]})]}),"resolveDispute"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Resolve Dispute"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-dark-700 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-dark-400",children:"Match"}),(0,s.jsx)("div",{className:"font-medium",children:Y?.match?.title||"N/A"}),(0,s.jsxs)("div",{className:"text-dark-400 text-sm mt-1",children:["Submitted by: ",Y?.submittedBy?.name]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Decision"}),(0,s.jsxs)("select",{className:"input",value:q.decision||"accepted",onChange:e=>G({...q,decision:e.target.value}),children:[(0,s.jsx)("option",{value:"accepted",children:"Accept (in favor of user)"}),(0,s.jsx)("option",{value:"rejected",children:"Reject (dismiss dispute)"}),(0,s.jsx)("option",{value:"partial",children:"Partial Resolution"})]})]}),("accepted"===q.decision||"partial"===q.decision)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Compensation Amount (â‚¹)"}),(0,s.jsx)("input",{type:"number",className:"input",value:q.compensation||"",onChange:e=>G({...q,compensation:e.target.value}),placeholder:"Optional compensation",min:"0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Resolution Notes"}),(0,s.jsx)("textarea",{className:"input min-h-[100px]",value:q.resolution||"",onChange:e=>G({...q,resolution:e.target.value}),placeholder:"Explain the resolution decision..."})]})]})]}),"addDisputeNote"===K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Add Internal Note"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-dark-700 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-dark-400",children:"Dispute for Match"}),(0,s.jsx)("div",{className:"font-medium",children:Y?.match?.title||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Internal Note"}),(0,s.jsx)("textarea",{className:"input min-h-[100px]",value:q.note||"",onChange:e=>G({...q,note:e.target.value}),placeholder:"Add an internal note (only visible to admins)..."})]}),(0,s.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/20 p-3 rounded-lg",children:(0,s.jsx)("p",{className:"text-blue-400 text-sm",children:"â„¹ï¸ This note is for internal use only and won't be visible to the user."})})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,s.jsx)("button",{onClick:()=>{O(null),$(null),G({}),J("")},className:"btn-secondary flex-1",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>es(K,Y),disabled:L,className:"btn-primary flex-1",children:L?"Processing...":"Confirm"})]})]})})]})}e.s(["default",()=>c])}]);