{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../src/app/forgot-password/page.jsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/context/AuthContext';\r\n\r\nexport default function ForgotPasswordPage() {\r\n  const router = useRouter();\r\n  const { sendOtp, verifyOtp } = useAuth();\r\n  const [step, setStep] = useState('phone'); // 'phone', 'otp', 'success'\r\n  const [phone, setPhone] = useState('');\r\n  const [otp, setOtp] = useState('');\r\n  const [devOtp, setDevOtp] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSendOtp = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    \r\n    if (!/^[6-9]\\d{9}$/.test(phone)) {\r\n      setError('Please enter a valid 10-digit mobile number');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const data = await sendOtp(phone);\r\n      if (data.otp) {\r\n        setDevOtp(data.otp);\r\n      }\r\n      setStep('otp');\r\n    } catch (err) {\r\n      setError(err.message || 'Failed to send OTP. Please check if this number is registered.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleVerifyOtp = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    if (otp.length !== 6) {\r\n      setError('Please enter 6-digit OTP');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      await verifyOtp(phone, otp);\r\n      setStep('success');\r\n      // Auto redirect after 3 seconds\r\n      setTimeout(() => {\r\n        router.push('/matches');\r\n      }, 3000);\r\n    } catch (err) {\r\n      setError(err.message || 'Invalid OTP');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center px-4 py-12 bg-dark-900\">\r\n      <div className=\"w-full max-w-md\">\r\n        {/* Logo */}\r\n        <Link href=\"/\" className=\"flex items-center justify-center space-x-2 mb-8\">\r\n          <div className=\"w-12 h-12 bg-gradient-to-br from-primary-500 to-gaming-purple rounded-lg flex items-center justify-center\">\r\n            <span className=\"text-white font-bold text-2xl\">B</span>\r\n          </div>\r\n          <span className=\"text-2xl font-bold font-display gradient-text\">BattleZone</span>\r\n        </Link>\r\n\r\n        {/* Card */}\r\n        <div className=\"card p-8\">\r\n          {step === 'success' ? (\r\n            <div className=\"text-center py-6\">\r\n              <div className=\"text-6xl mb-4\">✅</div>\r\n              <h1 className=\"text-2xl font-bold mb-2\">Welcome Back!</h1>\r\n              <p className=\"text-dark-400 mb-4\">\r\n                You have been logged in successfully.\r\n              </p>\r\n              <p className=\"text-dark-500 text-sm\">\r\n                Redirecting to matches...\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <h1 className=\"text-2xl font-bold text-center mb-2\">\r\n                {step === 'phone' ? 'Forgot Password?' : 'Verify OTP'}\r\n              </h1>\r\n              <p className=\"text-dark-400 text-center mb-8\">\r\n                {step === 'phone' \r\n                  ? \"No worries! Enter your registered mobile number and we'll send you an OTP to login.\" \r\n                  : `Enter the OTP sent to +91 ${phone}`}\r\n              </p>\r\n\r\n              {/* Development OTP Display */}\r\n              {devOtp && step === 'otp' && (\r\n                <div className=\"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-4 py-3 rounded-lg mb-6 text-sm\">\r\n                  <strong>Dev Mode:</strong> Your OTP is <span className=\"font-mono text-lg\">{devOtp}</span>\r\n                  <p className=\"text-xs mt-1 text-yellow-500/70\">This will be removed in production</p>\r\n                </div>\r\n              )}\r\n\r\n              {error && (\r\n                <div className=\"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg mb-6 text-sm\">\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {step === 'phone' ? (\r\n                <form onSubmit={handleSendOtp} className=\"space-y-6\">\r\n                  <div>\r\n                    <label htmlFor=\"phone\" className=\"label\">Registered Mobile Number</label>\r\n                    <div className=\"flex\">\r\n                      <span className=\"inline-flex items-center px-4 rounded-l-lg border border-r-0 border-dark-600 bg-dark-700 text-dark-300\">\r\n                        +91\r\n                      </span>\r\n                      <input\r\n                        type=\"tel\"\r\n                        id=\"phone\"\r\n                        value={phone}\r\n                        onChange={(e) => setPhone(e.target.value.replace(/\\D/g, '').slice(0, 10))}\r\n                        className=\"input rounded-l-none\"\r\n                        placeholder=\"Enter 10-digit number\"\r\n                        maxLength={10}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={loading || phone.length !== 10}\r\n                    className=\"btn-primary w-full py-3\"\r\n                  >\r\n                    {loading ? 'Sending OTP...' : 'Send OTP'}\r\n                  </button>\r\n                </form>\r\n              ) : (\r\n                <form onSubmit={handleVerifyOtp} className=\"space-y-6\">\r\n                  <div>\r\n                    <label htmlFor=\"otp\" className=\"label\">Enter OTP</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"otp\"\r\n                      value={otp}\r\n                      onChange={(e) => setOtp(e.target.value.replace(/\\D/g, '').slice(0, 6))}\r\n                      className=\"input text-center text-2xl tracking-widest\"\r\n                      placeholder=\"000000\"\r\n                      maxLength={6}\r\n                      required\r\n                      autoFocus\r\n                    />\r\n                  </div>\r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={loading || otp.length !== 6}\r\n                    className=\"btn-primary w-full py-3\"\r\n                  >\r\n                    {loading ? 'Verifying...' : 'Verify & Login'}\r\n                  </button>\r\n\r\n                  <div className=\"text-center\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        setStep('phone');\r\n                        setOtp('');\r\n                        setError('');\r\n                        setDevOtp('');\r\n                      }}\r\n                      className=\"text-dark-400 hover:text-white text-sm\"\r\n                    >\r\n                      ← Change number\r\n                    </button>\r\n                    <span className=\"text-dark-600 mx-2\">|</span>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handleSendOtp}\r\n                      disabled={loading}\r\n                      className=\"text-primary-400 hover:text-primary-300 text-sm\"\r\n                    >\r\n                      Resend OTP\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {step !== 'success' && (\r\n            <div className=\"mt-6 pt-6 border-t border-dark-700 text-center text-sm\">\r\n              <span className=\"text-dark-400\">\r\n                Remember your password?{' '}\r\n                <Link href=\"/login\" className=\"text-primary-400 hover:text-primary-300 font-medium\">\r\n                  Sign in\r\n                </Link>\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Back to home */}\r\n        <div className=\"mt-6 text-center\">\r\n          <Link href=\"/\" className=\"text-dark-400 hover:text-white text-sm\">\r\n            ← Back to home\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3]}