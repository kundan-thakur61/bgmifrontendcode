module.exports=[84085,17767,77432,a=>{"use strict";var b=a.i(21351),c=a.i(6327);a.s([],84085),a.s(["Navbar",()=>b.default],17767),a.s(["Footer",()=>c.default],77432)},97630,a=>{"use strict";function b(a){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a)}function c(a){if(!a)return"TBD";let b=new Date(a);return isNaN(b.getTime())?"TBD":new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",year:"numeric"}).format(b)}function d(a){if(!a)return"TBD";let b=new Date(a);return isNaN(b.getTime())?"TBD":new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(b)}function e(a){let b={upcoming:"text-blue-500 bg-blue-500/10",live:"text-green-500 bg-green-500/10",completed:"text-gray-500 bg-gray-500/10",cancelled:"text-red-500 bg-red-500/10"};return b[a]||b.upcoming}function f(a){return({"PUBG Mobile":"ðŸŽ®","Free Fire":"ðŸ”¥",BGMI:"ðŸŽ¯"})[a]||"ðŸŽ®"}a.s(["formatCurrency",()=>b,"formatDate",()=>c,"formatDateTime",()=>d,"getGameIcon",()=>f,"getMatchStatusColor",()=>e],97630)},1003,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(84085);var e=a.i(17767),f=a.i(77432),g=a.i(29338),h=a.i(536),i=a.i(97630);function j(){let a=(0,d.useRouter)(),{user:j,isAuthenticated:k,loading:l}=(0,g.useAuth)(),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)("upi"),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)({accountNumber:"",confirmAccountNumber:"",ifscCode:"",accountHolderName:""}),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)("");(0,c.useEffect)(()=>{l||k||a.push("/login")},[l,k,a]),(0,c.useEffect)(()=>{k&&M()},[k]);let M=async()=>{try{let[a,b]=await Promise.all([h.api.getTransactions(),h.api.getWithdrawals()]);n(a.transactions||[]),p(b.withdrawals||[])}catch(a){console.error("Failed to fetch data:",a)}finally{r(!1)}},N=async()=>{!w||10>parseInt(w)?J("Minimum amount is â‚¹10"):alert("Razorpay integration coming soon!")},O=async()=>{J(""),L("");let a=parseInt(y);if(!a||a<100)return void J("Minimum withdrawal is â‚¹100");if(a>(j?.walletBalance||0))return void J("Insufficient balance");if("upi"===A&&!C)return void J("Please enter UPI ID");if("upi"===A&&!/^[\w.-]+@[\w.-]+$/.test(C))return void J("Invalid UPI ID format");if("bank"===A){if(!E.accountNumber||!E.ifscCode||!E.accountHolderName)return void J("Please fill all bank details");if(E.accountNumber!==E.confirmAccountNumber)return void J("Account numbers do not match");if(!/^[A-Z]{4}0[A-Z0-9]{6}$/.test(E.ifscCode.toUpperCase()))return void J("Invalid IFSC code format")}let b="upi"===A?{upiId:C}:{accountNumber:E.accountNumber,ifscCode:E.ifscCode.toUpperCase(),accountHolderName:E.accountHolderName};H(!0);try{await h.api.requestWithdrawal(a,A,b),L("Withdrawal request submitted successfully!"),v(!1),z(""),D(""),F({accountNumber:"",confirmAccountNumber:"",ifscCode:"",accountHolderName:""}),M()}catch(a){J(a.message||"Failed to submit withdrawal request")}finally{H(!1)}};return l||!k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Navbar,{}),(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Navbar,{}),(0,b.jsx)("main",{className:"min-h-screen pt-20",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold font-display mb-8",children:"Wallet"}),I&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg mb-4",children:I}),K&&(0,b.jsx)("div",{className:"bg-green-500/10 border border-green-500/20 text-green-400 px-4 py-3 rounded-lg mb-4",children:K}),(0,b.jsxs)("div",{className:"card p-6 mb-8 bg-gradient-to-br from-primary-900/50 to-gaming-purple/30",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-dark-400 text-sm mb-1",children:"Available Balance"}),(0,b.jsx)("p",{className:"text-4xl font-bold gradient-text",children:(0,i.formatCurrency)(j?.walletBalance||0)})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{t(!s),v(!1),J("")},className:"btn-primary",children:"Add Money"}),(0,b.jsx)("button",{onClick:()=>{v(!u),t(!1),J("")},className:"btn-outline",children:"Withdraw"})]})]}),s&&(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t border-dark-600",children:[(0,b.jsx)("h3",{className:"font-medium mb-4",children:"Add Money to Wallet"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:[100,200,500,1e3].map(a=>(0,b.jsxs)("button",{onClick:()=>x(a.toString()),className:`px-4 py-2 rounded-lg border transition-colors ${w===a.toString()?"border-primary-500 bg-primary-500/10 text-primary-400":"border-dark-600 hover:border-dark-500"}`,children:["â‚¹",a]},a))}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{type:"number",value:w,onChange:a=>x(a.target.value),placeholder:"Enter amount",className:"input flex-1",min:"10"}),(0,b.jsxs)("button",{onClick:N,className:"btn-primary",children:["Pay â‚¹",w||0]})]})]}),u&&(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t border-dark-600",children:[(0,b.jsx)("h3",{className:"font-medium mb-4",children:"Withdraw Money"}),j?.kycStatus!=="verified"&&(0,b.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400 px-4 py-3 rounded-lg mb-4",children:[(0,b.jsx)("span",{className:"font-medium",children:"KYC Required:"})," Please complete KYC verification to withdraw funds.",(0,b.jsx)("button",{onClick:()=>a.push("/kyc"),className:"ml-2 underline",children:"Complete KYC"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:[100,200,500,1e3].map(a=>(0,b.jsxs)("button",{onClick:()=>z(a.toString()),className:`px-4 py-2 rounded-lg border transition-colors ${y===a.toString()?"border-primary-500 bg-primary-500/10 text-primary-400":"border-dark-600 hover:border-dark-500"}`,children:["â‚¹",a]},a))}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Amount"}),(0,b.jsx)("input",{type:"number",value:y,onChange:a=>z(a.target.value),placeholder:"Enter amount (min â‚¹100)",className:"input w-full",min:"100"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Withdrawal Method"}),(0,b.jsxs)("select",{value:A,onChange:a=>B(a.target.value),className:"input w-full",children:[(0,b.jsx)("option",{value:"upi",children:"UPI"}),(0,b.jsx)("option",{value:"bank",children:"Bank Transfer"})]})]}),"upi"===A&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"UPI ID"}),(0,b.jsx)("input",{type:"text",value:C,onChange:a=>D(a.target.value),placeholder:"yourname@upi",className:"input w-full"})]}),"bank"===A&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Account Holder Name"}),(0,b.jsx)("input",{type:"text",value:E.accountHolderName,onChange:a=>F({...E,accountHolderName:a.target.value}),placeholder:"As per bank records",className:"input w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Account Number"}),(0,b.jsx)("input",{type:"text",value:E.accountNumber,onChange:a=>F({...E,accountNumber:a.target.value.replace(/\D/g,"")}),placeholder:"Enter account number",className:"input w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"Confirm Account Number"}),(0,b.jsx)("input",{type:"text",value:E.confirmAccountNumber,onChange:a=>F({...E,confirmAccountNumber:a.target.value.replace(/\D/g,"")}),placeholder:"Re-enter account number",className:"input w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"label",children:"IFSC Code"}),(0,b.jsx)("input",{type:"text",value:E.ifscCode,onChange:a=>F({...E,ifscCode:a.target.value.toUpperCase()}),placeholder:"e.g., SBIN0001234",className:"input w-full",maxLength:11})]})]}),(0,b.jsx)("button",{onClick:O,disabled:G||j?.kycStatus!=="verified",className:"btn-primary w-full",children:G?"Processing...":`Withdraw â‚¹${y||0}`})]})]})]}),o.filter(a=>"pending"===a.status).length>0&&(0,b.jsxs)("div",{className:"card mb-6",children:[(0,b.jsx)("div",{className:"p-4 border-b border-dark-700",children:(0,b.jsx)("h2",{className:"font-semibold",children:"Pending Withdrawals"})}),(0,b.jsx)("div",{className:"divide-y divide-dark-700",children:o.filter(a=>"pending"===a.status).map(a=>{var c;let d;return(0,b.jsxs)("div",{className:"p-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium",children:[(0,i.formatCurrency)(a.amount)," via ",a.method?.toUpperCase()]}),(0,b.jsx)("p",{className:"text-sm text-dark-400",children:(0,i.formatDateTime)(a.createdAt)})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs ${(c=a.status,(d={pending:"bg-yellow-500/20 text-yellow-400",approved:"bg-blue-500/20 text-blue-400",completed:"bg-green-500/20 text-green-400",rejected:"bg-red-500/20 text-red-400"})[c]||d.pending)}`,children:a.status})]},a._id)})})]}),(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("div",{className:"p-4 border-b border-dark-700",children:(0,b.jsx)("h2",{className:"font-semibold",children:"Transaction History"})}),q?(0,b.jsx)("div",{className:"p-4 space-y-4",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"animate-pulse flex justify-between",children:[(0,b.jsx)("div",{className:"h-4 bg-dark-700 rounded w-1/2"}),(0,b.jsx)("div",{className:"h-4 bg-dark-700 rounded w-20"})]},a))}):0===m.length?(0,b.jsxs)("div",{className:"p-8 text-center text-dark-400",children:[(0,b.jsx)("p",{className:"text-4xl mb-2",children:"ðŸ’°"}),(0,b.jsx)("p",{children:"No transactions yet"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:"Add money to your wallet to get started"})]}):(0,b.jsx)("div",{className:"divide-y divide-dark-700",children:m.map(a=>(0,b.jsxs)("div",{className:"p-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.description}),(0,b.jsx)("p",{className:"text-sm text-dark-400",children:(0,i.formatDateTime)(a.createdAt)})]}),(0,b.jsxs)("div",{className:`font-semibold ${["deposit","winning","refund","credit","referral_bonus"].includes(a.type)?"text-green-400":"text-red-400"}`,children:[["deposit","winning","refund","credit","referral_bonus"].includes(a.type)?"+":"-",(0,i.formatCurrency)(Math.abs(a.amount))]})]},a._id))})]})]})}),(0,b.jsx)(f.Footer,{})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=src_cb8903f1._.js.map