import Link from 'next/link';
import { notFound } from 'next/navigation';
import { Navbar, Footer } from '@/components/layout';

// Sample blog posts data - in production this would come from a CMS or database
const blogPosts = {
  'pubg-mobile-tips-for-beginners': {
    title: '10 Essential PUBG Mobile Tips for Beginners',
    excerpt: 'Master the basics of PUBG Mobile with these essential tips.',
    category: 'Tips & Tricks',
    date: '2025-12-28',
    readTime: '5 min read',
    author: 'BattleZone Team',
    content: `
# 10 Essential PUBG Mobile Tips for Beginners

Starting your journey in PUBG Mobile can be overwhelming. Here are 10 essential tips to help you get started and improve your gameplay.

## 1. Choose Your Landing Spot Wisely

As a beginner, avoid hot drops like Pochinki, School, or Military Base. Instead, land at medium-loot areas like:
- Gatka
- Shelter
- Farm
- Mylta

These locations have decent loot and fewer enemies, giving you time to gear up.

## 2. Master the Basic Controls

Spend time in Training Mode to understand:
- Movement mechanics
- Aiming and shooting
- Switching weapons
- Using throwables
- Prone and crouch positions

## 3. Prioritize Your Loot

Always look for these items first:
- **Level 2/3 Helmet** - Protects against headshots
- **Level 2/3 Vest** - Reduces body damage
- **AR or SMG** - Your primary weapon
- **First Aid Kits** - Health regeneration
- **Ammunition** - At least 150 rounds per weapon

## 4. Use Headphones

Audio is crucial in PUBG Mobile. With headphones, you can:
- Hear footsteps and determine direction
- Detect vehicle sounds from far away
- Hear gunshots and estimate distance
- Identify enemy reloading sounds

## 5. Stay in the Safe Zone

Always keep an eye on the map and timer. Moving early to the safe zone gives you:
- Better positioning
- Time to loot on the way
- Avoid getting caught in the blue zone

## 6. Learn to Use Cover Effectively

Never run in open fields. Always:
- Move from cover to cover
- Use trees, rocks, and buildings
- Peek and shoot, don't stand exposed
- Use vehicles as temporary cover

## 7. Communication is Key

In squad matches:
- Use the quick chat options
- Mark enemy locations on the map
- Share resources with teammates
- Coordinate pushes and retreats

## 8. Adjust Your Sensitivity Settings

Default settings might not work for everyone. Experiment with:
- Camera sensitivity for different scopes
- ADS (Aim Down Sight) sensitivity
- Gyroscope settings if you use it

## 9. Practice Different Weapons

Each weapon has unique characteristics:
- **M416** - Versatile, low recoil
- **AKM** - High damage, higher recoil
- **UMP** - Good for close range
- **AWM** - Best sniper, one-shot kill

## 10. Watch and Learn

Watch professional players and streamers to learn:
- Positioning strategies
- When to push and when to retreat
- Spray patterns and recoil control
- Game sense and decision making

---

Remember, improvement takes time. Focus on one tip at a time and gradually incorporate them into your gameplay. Good luck on your PUBG Mobile journey!
    `,
  },
  'best-landing-spots-erangel': {
    title: 'Best Landing Spots in Erangel 2025',
    excerpt: 'Discover the top landing spots in Erangel for high-tier loot.',
    category: 'Strategy',
    date: '2025-12-25',
    readTime: '7 min read',
    author: 'BattleZone Team',
    content: `
# Best Landing Spots in Erangel 2025

Erangel remains the most popular map in PUBG Mobile. Here's our comprehensive guide to the best landing spots.

## Hot Drops (High Risk, High Reward)

### 1. Pochinki
- Central location
- High-tier loot
- Multiple buildings
- Expect heavy combat

### 2. Military Base
- Best loot on the map
- Strategic position
- Difficult to escape
- Recommended for experienced players

## Medium-Risk Locations

### 3. Georgopol
- Split into containers and city
- Good vehicle spawns
- Moderate player count
- Great for squads

### 4. Rozhok
- Central positioning
- Underground bunker nearby
- Good rotation options
- Medium loot quality

## Safe Landing Spots

### 5. Lipovka
- Often overlooked
- Decent loot for solo/duo
- Easy rotation to circle
- Low player density

### 6. Mylta
- Coastal town
- Boat spawns available
- Quiet but has enough loot
- Good for beginners

Choose your landing spot based on your playstyle and skill level. Good luck!
    `,
  },
  'free-fire-character-guide': {
    title: 'Free Fire Character Guide: Best Characters for Ranked',
    excerpt: 'Complete guide to Free Fire characters.',
    category: 'Guides',
    date: '2025-12-22',
    readTime: '8 min read',
    author: 'BattleZone Team',
    content: `
# Free Fire Character Guide

Choosing the right character can significantly impact your performance in Free Fire ranked matches.

## Top Tier Characters

### 1. Alok (Drop the Beat)
Creates a 5m aura that increases movement speed and recovers HP.
- **Best for:** Aggressive players
- **Synergy:** Works well with any playstyle

### 2. K (Master of All)
Dual-mode ability for EP recovery and conversion.
- **Best for:** Sustained fights
- **Synergy:** Great for squad play

### 3. Skyler (Riptide Rhythm)
Unleashes a sonic wave that damages Gloo Walls.
- **Best for:** Breaking enemy defenses
- **Synergy:** Combine with aggressive teammates

## Support Characters

### 4. Moco (Hacker's Eye)
Tags enemies hit by your shots.
- **Best for:** Team intel
- **Synergy:** Snipers and scouts

### 5. Dimitri (Healing Heartbeat)
Creates a healing zone for you and allies.
- **Best for:** Squad survival
- **Synergy:** Defensive plays

Build your character combination based on your team composition and playstyle!
    `,
  },
  'how-to-improve-aim-mobile': {
    title: 'How to Improve Your Aim in Mobile Gaming',
    excerpt: 'Professional tips to improve your aim and reflexes.',
    category: 'Tips & Tricks',
    date: '2025-12-20',
    readTime: '6 min read',
    author: 'BattleZone Team',
    content: `
# How to Improve Your Aim in Mobile Gaming

Aiming is the most fundamental skill in mobile shooters. Here's how to improve.

## Sensitivity Settings

### Finding Your Perfect Sensitivity
1. Start with medium settings
2. Adjust camera sensitivity first
3. Fine-tune ADS sensitivity
4. Test in Training Mode

### Recommended Starting Points
- Camera: 150-200%
- Red Dot: 80-100%
- 2x Scope: 60-80%
- 4x Scope: 40-60%

## Practice Routines

### Daily Training (15-20 minutes)
1. **5 min** - Moving target practice
2. **5 min** - Spray control on walls
3. **5 min** - Quick scope practice
4. **5 min** - Close-range tracking

## Hand Positioning

### Claw vs Thumbs
- **Thumbs:** Easier to learn, less control
- **3-Finger Claw:** Better movement + aim
- **4-Finger Claw:** Full control, steep learning curve

## Additional Tips
- Keep your device clean
- Use a stable grip
- Stay relaxed, don't tense up
- Take breaks to avoid fatigue

Consistency is key - practice every day!
    `,
  },
  'esports-career-india': {
    title: 'Building an Esports Career in India',
    excerpt: 'Guide to pursuing a professional esports career in India.',
    category: 'Esports',
    date: '2025-12-18',
    readTime: '10 min read',
    author: 'BattleZone Team',
    content: `
# Building an Esports Career in India

The Indian esports industry is growing rapidly. Here's how to break into it.

## Getting Started

### 1. Choose Your Game
- Focus on ONE game
- Popular choices: BGMI, Free Fire, Valorant
- Master the meta and mechanics

### 2. Build Your Skills
- Play 6-8 hours daily
- Review your gameplay
- Learn from professionals
- Join scrims and customs

## Finding a Team

### Options
1. **Create your own team** with friends
2. **Join tryouts** for established organizations
3. **Get noticed** through ranked performance
4. **Participate** in open tournaments

## Tournament Path

### Beginner Level
- Local LAN events
- Online open qualifiers
- Community tournaments
- Platform like BattleZone

### Professional Level
- BGIS (Battlegrounds Mobile India Series)
- Free Fire India Championship
- Nodwin Gaming events

## Building Your Brand

### Social Media Presence
- Stream on YouTube/Facebook Gaming
- Create highlight clips
- Engage with the community
- Network with other players

## Financial Considerations

### Income Sources
- Tournament winnings
- Team salary
- Streaming revenue
- Sponsorships
- Content creation

Start small, stay consistent, and never give up!
    `,
  },
  'bgmi-update-latest-features': {
    title: 'BGMI Latest Update: New Features & Changes',
    excerpt: 'Complete breakdown of the latest BGMI update.',
    category: 'News',
    date: '2025-12-15',
    readTime: '4 min read',
    author: 'BattleZone Team',
    content: `
# BGMI Latest Update: New Features & Changes

Here's everything new in the latest BGMI update.

## New Features

### 1. New Map: Nusa
- Smallest map in BGMI
- 32 players max
- Fast-paced gameplay
- New exclusive weapons

### 2. New Weapons
- **AC Val** - Silenced assault rifle
- **NS2000** - New shotgun
- **Tactical Crossbow** - Silent but deadly

### 3. Updated Mechanics
- Improved vaulting system
- New throwable trajectory preview
- Better water physics
- Enhanced graphics options

## Balance Changes

### Weapons
- M416: Slightly reduced damage
- AKM: Improved accuracy
- UMP45: Increased fire rate
- AWM: No changes

### Vehicles
- New sports car added
- Motorcycle handling improved
- UAZ durability increased

## Bug Fixes
- Fixed lobby crashes
- Improved matchmaking speed
- Resolved audio issues
- Better anti-cheat detection

Download the update and experience the new features!
    `,
  },
};

export async function generateMetadata({ params }) {
  const { slug } = await params;
  const post = blogPosts[slug];
  
  if (!post) {
    return {
      title: 'Post Not Found | BattleZone Blog',
    };
  }

  return {
    title: `${post.title} | BattleZone Blog`,
    description: post.excerpt,
    openGraph: {
      title: post.title,
      description: post.excerpt,
      type: 'article',
      publishedTime: post.date,
    },
  };
}

export async function generateStaticParams() {
  return Object.keys(blogPosts).map((slug) => ({
    slug,
  }));
}

export default async function BlogPostPage({ params }) {
  const { slug } = await params;
  const post = blogPosts[slug];

  if (!post) {
    notFound();
  }

  return (
    <>
      <Navbar />
      
      <main className="min-h-screen pt-20">
        <article className="max-w-3xl mx-auto px-4 py-8">
          {/* Back Button */}
          <Link href="/blog" className="inline-flex items-center text-dark-400 hover:text-white mb-6">
            <svg className="w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
            </svg>
            Back to Blog
          </Link>

          {/* Header */}
          <header className="mb-8">
            <div className="flex items-center gap-3 mb-4">
              <span className="badge badge-primary">{post.category}</span>
              <span className="text-dark-400 text-sm">{post.readTime}</span>
            </div>
            <h1 className="text-3xl md:text-4xl font-bold font-display mb-4">
              {post.title}
            </h1>
            <div className="flex items-center gap-4 text-dark-400">
              <span>By {post.author}</span>
              <span>‚Ä¢</span>
              <time dateTime={post.date}>{post.date}</time>
            </div>
          </header>

          {/* Featured Image Placeholder */}
          <div className="h-64 md:h-80 bg-gradient-to-br from-primary-600 to-gaming-purple rounded-lg mb-8 flex items-center justify-center">
            <span className="text-6xl">üéÆ</span>
          </div>

          {/* Content */}
          <div className="prose prose-invert prose-lg max-w-none">
            {post.content.split('\n').map((line, index) => {
              if (line.startsWith('# ')) {
                return <h1 key={index} className="text-3xl font-bold mt-8 mb-4">{line.slice(2)}</h1>;
              }
              if (line.startsWith('## ')) {
                return <h2 key={index} className="text-2xl font-bold mt-6 mb-3">{line.slice(3)}</h2>;
              }
              if (line.startsWith('### ')) {
                return <h3 key={index} className="text-xl font-bold mt-4 mb-2">{line.slice(4)}</h3>;
              }
              if (line.startsWith('- ')) {
                return <li key={index} className="text-dark-300 ml-4">{line.slice(2)}</li>;
              }
              if (line.startsWith('---')) {
                return <hr key={index} className="border-dark-700 my-8" />;
              }
              if (line.trim() === '') {
                return <br key={index} />;
              }
              // Handle bold text
              const processedLine = line.replace(/\*\*(.*?)\*\*/g, '<strong class="text-white">$1</strong>');
              return (
                <p 
                  key={index} 
                  className="text-dark-300 mb-2"
                  dangerouslySetInnerHTML={{ __html: processedLine }}
                />
              );
            })}
          </div>

          {/* Share Section */}
          <div className="mt-12 pt-8 border-t border-dark-700">
            <h3 className="font-bold mb-4">Share this article</h3>
            <div className="flex gap-3">
              <button className="btn-secondary px-4 py-2">
                üê¶ Twitter
              </button>
              <button className="btn-secondary px-4 py-2">
                üìò Facebook
              </button>
              <button className="btn-secondary px-4 py-2">
                üìã Copy Link
              </button>
            </div>
          </div>

          {/* Related Posts */}
          <div className="mt-12">
            <h3 className="text-xl font-bold mb-6">Related Articles</h3>
            <div className="grid md:grid-cols-2 gap-4">
              {Object.entries(blogPosts)
                .filter(([postSlug]) => postSlug !== slug)
                .slice(0, 2)
                .map(([postSlug, relatedPost]) => (
                  <Link key={postSlug} href={`/blog/${postSlug}`} className="card-hover p-4 group">
                    <span className="text-xs text-primary-400">{relatedPost.category}</span>
                    <h4 className="font-medium mt-1 group-hover:text-primary-400 transition-colors line-clamp-2">
                      {relatedPost.title}
                    </h4>
                  </Link>
                ))}
            </div>
          </div>
        </article>
      </main>
      
      <Footer />
    </>
  );
}
